---
title: "테코톡 정리 - 02"
categories:
  - 테코톡
tags:
  - 테코톡
  - CI/CD
  - 쿠키
  - 세션
  - 토큰
  - 캐시
toc: true
toc_sticky: true
toc_label: ""
toc_icon: ""
comments: true
---

어렵지만 뿌듯합니다.

---
# 테코톡 정리

### Nginx

누군가가 Nginx(엔진엑스)가 무엇이냐고 물어본다면?

엔진엑스는 **웹서버, 리버스 프록시, 로드밸런서 그리고 http 캐시로도 쓰일 수 있는 소프트웨어이고, 요청에 응답하기 위해 이벤트 기반 구조를 채택했고 덕분에 현재 웹서버 분야에서 1등을 하고 있다**고 답할 수 있다.

그렇다면 이벤트 기반 구조의 어떤 점이 좋아서 엔진엑스를 선택했는지, 그리고 웹서버에서 제일 잘나가는게 Aphache HTTP server(아파치 서버)라고 들었는데 아파치 서버와 다른점이 무엇이냐고 묻는다면…?

<img width="622" alt="스크린샷 2024-02-03 오후 7 51 22" src="https://github.com/deohyunpark/deohyunpark.github.io/assets/120771212/6de1577f-2917-4a51-9bd1-8a662543b863">

먼저 아파치 서버는 요청이 들어오면 커넥션을 형성하기 위해 프로세스를 생성한다.

그래서 새로운 클라이언트의 요청이 들어올때 마다 새로운 프로세스를 생성,

이는 UNIX 계열 OS가 네트워크 커넥션을 형성하는 모델을 그대로 적용한 것 이었다.

<img width="774" alt="스크린샷 2024-02-03 오후 7 54 32" src="https://github.com/deohyunpark/deohyunpark.github.io/assets/120771212/3aee83f5-bab7-4231-891c-885dd5ff8b6d">

그런데 프로세스를 만드는 것이 시간이 걸리는 작업이다보니 요청이 들어오기 전에 프로세스를 미리 만들어 놓는 PREFORK 방식을 사용했다.

장점

- 개발하기 쉽다. (개발자는 다양한 모듈을 만들어서 서버에 빠르게 기능 추가 가능)
- 확장성이 좋다. ( 이 장점 덕에 요청을 받고 응답을 처리하는 과정을 하나의 서버에서 해결하기 좋아짐)

하지만 인터넷 트래픽이 증가함에 따라 감당할수없는 많은 요청을 받아드릴수 있었어야 했는데 문제가 발생 → 서버에 동시에 연결된 커넥션이 많아졌을 때 커넥션을 생성하지 못함 ⇒ **C10K**

단점

- 메모리 부족 (커넥션이 형성될 때 마다 프로세스를 할당, 즉 커넥션이 많아지면 프로세스도 많아지고 메모리 부족으로 넘어감)
- 무거운 프로그램
- CPU 부하 UP (컨텍스트 스위칭을 많이하게됨)

수많은 동시 커넥션을 감당하기엔 아파치서버는 부적합

이를 보완하기 위해 Nginx사용

<img width="1310" alt="스크린샷 2024-02-03 오후 10 53 15" src="https://github.com/deohyunpark/deohyunpark.github.io/assets/120771212/06b248fb-f898-496b-ba97-09c545b03469">

아파치 서버 앞단에 엔진엑스를 두고 아파치서버가 감당해야했던 동시커넥션을 엔진엑스가 처리해줌

엔진엑스는 그 자체로 웹 서버 , 정적파일에 대한 요청은 스스로 처리 가능

웹 서버 역할을 하는 엔진엑스는 클라이언트로 부터 동적 파일 요청을 받았을때만 뒤에있는 아파치 서버와 커넥션 형성 → 즉 개발자가 원했던 로직처리에 쓰도록 도와줌

Nginx는 성능과 효율성에 초점을 맞춘 웹 서버
Nginx는 **이벤트 기반 모델**을 사용하여, **동시 처리 능력이 아파치보다 뛰어남**

**즉, 동시에 많은 요청을 효율적으로 처리할 수 있으며, 이 때문에 정적 파일을 빠르게 제공하거나, 리버스 프록시, 로드 밸런서로 사용되는 경우가 많음**

- Nginx는 아파치보다 설정이 간결하고 단순, 이는 배우기 쉽고 관리하기 편리하다는 장점을 가지지만, 아파치만큼 세부적인 설정이 어렵다는 단점이 있음.

결론적으로, 아파치와 Nginx는 각각의 장단점이 있으며 사용하려는 목적과 환경에 따라 적합한 서버를 선택하는 것이 좋다. 높은 확장성과 유연성이 필요하다면 아파치를, 높은 성능과 효율성이 필요하다면 Nginx를 선택할 수 있다.
